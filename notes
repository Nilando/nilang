TODO:
  GENERATOR:
    - dry up the generator
    - make spans be option

  PARSER:
    - dry up code
    - ensure assignments are only to lvalues
    - ensure calls only happen on functions or lvalues
    - return warnings?
